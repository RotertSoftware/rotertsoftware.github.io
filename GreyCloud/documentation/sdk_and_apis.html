<!DOCTYPE html>
<html lang="en">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0" />
<title>GreyCloud documentation</title>
</head>

<body>
<header>
	<nav>
		<a href="../index.html">
			<img alt="" height="60" src="../images/GreyCloud.png" width="60" class="auto-style1">
		</a>
		<h1>GreyCloud Documentation</h1>
		<a href="index.html">Home</a> / <a href="../../contact.html">Contact</a> /
		<a href="https://help.github.com/articles/github-privacy-statement/">GitHub Pages privacy terms</a>
	</nav>
</header>
<main>
	<br />
	<nav>
		<ul>
			<li>
				<a href="general_information.html">General Information</a>
				<ul>
					<li>
					<a href="general_information.html#what_is_greycloud">What is GreyCloud?</a></li>
					<li>
					<a href="general_information.html#what_can_i_do_with_greycloud">What can I do with GreyCloud?</a></li>
					<li>
					<a href="general_information.html#licensing">Licensing</a></li>
				</ul>
			</li>
			<li><a href="installation_and_configuration.html">Installation and configuration</a>
				<ul>
					<li><a href="installation_and_configuration.html#download">Download</a></li>
					<li>
					<a href="installation_and_configuration.html#install_required_components">Install required components</a></li>
					<li>
					<a href="installation_and_configuration.html#install_greycloud">Install GreyCloud</a></li>
					<li>
					<a href="installation_and_configuration.html#configure_apache">Configure Apache</a></li>
					<li>
					<a href="installation_and_configuration.html#change_settings">Change settings</a></li>
				</ul>
			</li>
			<li><a href="usage.html">Usage</a>
				<ul>
					<li>
					<a href="usage.html#homepage_and_log_in">Homepage and log in</a></li>
					<li>
					<a href="usage.html#create_a_new_user">Create a new user</a></li>
					<li>
					<a href="usage.html#create_a_new_database">Create a new database</a></li>
					<li>
					<a href="usage.html#managing_virtual_files">Managing virtual files</a></li>
					<li>
					<a href="usage.html#create_a_new_web_service">Create a new web service</a></li>
					<li>
					<a href="usage.html#logfile">Logfile</a></li>
				</ul>
			</li>
			<li><a href="sdk_and_apis.html">SDK and APIs
				</a>
				<ul>
					<li>
					<a href="sdk_and_apis.html#command_line">Command line</a></li>
					<li>
					<a href="sdk_and_apis.html#python">Python</a></li>
					<li>
					<a href="sdk_and_apis.html#services_with_python">Services with Python</a></li>
				</ul>
			</li>
			<li>Developer documentation
				<ul>
					<li></li>
				</ul>
			</li>
		</ul>
	</nav>
	<article>
	<h2>SDK and APIs</h2>
	<br>
	<h3 id="command_line">Command line</h3>
	<br>The GreyCloud SDK has a command line 
	tool written in Python 3. It allows to access to a database or a service. 
	Another feature is the integrated HTTP request shell.<br><br>The command 
	line tool can be configured by editing the settings in 
	‘console_defaults.settings.json’.<br>Here you can edit the default URL for 
	the server, the console type which is started and the path to a certificate 
	or a folder with certificates. Note that backslashes have to be replaced 
	with double backslashes.<br><br>The following options are available for the 
	command line tool:<br>-s / --server : The URL to the server. The URL has to 
	be have the scheme http[s]://host[:port]/[path/to/GreyCloud/]<br>-m / 
	--mode: The type of the console<br>-ca / --cafile : The path to a valid 
	certificate<br>-cap / --capath : The path to a folder with valid 
	certificates<br><br>To execute SQL queries for a database, run<br><em>#python 
	console.py –m sql</em><br>in the shell of your operating system. Next, you enter 
	the name of your databases. Now you can execute SQL queries and see the 
	results.<br><br>To call procedures from a service, run<br><em>#python console.py 
	–m service</em><br>Next, you enter the name of the service you want to use.<br>
	<br>To use the HTTP command line, run<br><em>#python console.py –m http</em><br>To 
	change the directory, type<br><em>&gt; cd /path</em><br>To send a GET request to a 
	server, type<br><em>&gt; get /path?argument1=test&amp;argument2=123</em><br>If you use a 
	point instead of a path, the current directory will be used.<br>
	<h3 id="python">Python</h3>
	<br>To use the GreyCloud API with Python 3, download the SDK for your 
	GreyCloud version from GitHub. <br>Extract the archive and copy the 
	package ‘GreyCloud’ into your project. It is also possible to install the 
	package into the Python environment. <br>The following code shows, how you 
	can connect to a server: <br><br>from GreyCloud.API.cloud_api import Cloud<br>
	<br><em>server = Cloud("http://localhost:8000/")<br># Database example<br>con = 
	server.getDatabase("db_test")<br>print(con.execute_sql("select * from 
	test"))<br># Service example<br>service = server.getService("service_test")<br>
	print(service.call_function("f", (None,)))</em><br><br>First, the module 
	cloud_api from the GreyCloud.API package is imported. The class Cloud in 
	cloud_api represents a server. The first argument is a string with the URL 
	to the server. The URL has to have the scheme 
	http[s]://host[:port]/[path/to/GreyCloud/]. The optional keyword arguments 
	capath and cafile are relevant for connections over HTTPS. cafile is the 
	path to a single certificate, while capath points to a folder where your CA 
	files are.<br>The <em>getXXX(name)</em> method returns a sub class from 
	GreyCloud.API.base.ServiceBaseClass. To execute SQL into a GreyCloud 
	database, the database connection has a method named execute_sql. A remote 
	procedure in a service can be executed using <em>call_function(func, args)</em>. Note 
	that args has to be a tuple.<br>
	<h3 id="services_with_python">Services with Python</h3>
	<br>To write 
	services with Python, it is recommended to create a main script, where all 
	public functions are registered, and a library, which implements all 
	functions including non-public procedures. In the main script, you can 
	register a function by using the decorator <em>@public_modifier</em>. Note that 
	imports have to be in the defined in the function function. With 
	<em>import_module(name, path)</em> you are able to import and execute another script. 
	Scripts you import with import_module behave like normal Python scripts.<br>
	<br>main.py:<br><em>@public_modifier<br>def f(ignore):<br></em><span lang="de">
	<em>&nbsp;&nbsp;&nbsp;
	</em>
	</span><em>sinus = math.sin(20)<br></em><span lang="de"><em>&nbsp;&nbsp;&nbsp; 
	</em> </span>
	<em>test2 = import_module("test", "/home/scripts/test.py")<br></em><span lang="de">
	<em>&nbsp;&nbsp;&nbsp;
	</em>
	</span><em>return ("Hallo", sinus, test2.returner(None))</em><br><br>test.py:<br>
	<em>import django<br>import math<br>
	def returner(ignore):<br></em><span lang="de"><em>&nbsp;&nbsp;&nbsp; </em> </span>
	<em>return 
	("Welt", math.sin(20), django.get_version())</em>
	</article>
</main>
</body>

</html>
